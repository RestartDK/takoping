Todo:
  Server:
    ✔ Set up Chromadb locally and seed a test collection @started(25-10-30 11:28) @done(25-10-30 11:28) @lasted(28s)
    ✔ Configure Ollama on LAN tower; document model selection and endpoints @done(25-10-30 11:35)
    ✔ Create Bun backend skeleton (HTTP + WebSocket) and .env config @started(25-10-30 14:44) @done(25-10-30 21:13) @lasted(6h29m29s)
    ✔ Add embedding function for ollama in db client @done(25-10-30 21:13)
    ✔ Make sure all rag works @done(25-10-30 21:13)
    ✔ Create the plan to implement the generation approach of the diagrams for your app @done(25-11-01 13:05)
    ✔ Decide on how to store your data, only use a vectordb or use like dynamodb as well (see if you can just use a normal db as well) @started(25-11-01 13:18) @done(25-11-01 13:36) @lasted(18m37s)
    ✔ Integrate normal schemas from postgres with bun @started(25-11-01 13:37) @done(25-11-01 14:43) @lasted(1h6m54s)
    ✔ Integrate pg with chromadb vector search @done(25-11-01 14:43)
    ✔ Test end to end with a simple fe with the backend, only care about diagrams all streaming and stuff come after @done(25-11-01 15:08)
    ✔ Build repo tree model and metrics (size, file count, recent changes) @done(25-11-01 15:28)
    ✔ Rename backend to server and frontend to client @done(25-11-01 15:08)
    ✔ Fix all the type errors and stupid logic from the ai @started(25-11-01 15:08) @done(25-11-01 15:26) @lasted(18m31s)
    ✔ Review code from ai and understand deeply what was made, fixing any logic problems @started(25-11-01 15:26) @done(25-11-01 16:31) @lasted(1h5m3s)
    ✔ Fix consistency of chunking pattern @done(25-11-01 16:31)
    ✔ Fix return for github api to just be exported directly instead of called as a function @started(25-11-01 16:31) @done(25-11-01 16:37) @lasted(6m30s)
    ✔ Fix type for the github api @started(25-11-01 16:37) @done(25-11-01 16:44) @lasted(7m6s)
    ✔ Fix the diagram from the backend to have files connected to each other to show relationship between files @started(25-11-02 12:39) @done(25-11-02 13:30) @lasted(51m28s)
    ✔ Fix zooming and zoom out ui @started(25-11-02 13:30) @done(25-11-02 13:50) @lasted(20m41s)
    ✔ Fix collapsible sidebar @started(25-11-02 14:58) @done(25-11-02 15:18) @lasted(20m10s)
    ✔ Fix showing file content on the frontend @done(25-11-02 15:29)
    ✔ Make a .env for the api url, should not hardcode api url @done(25-11-02 15:34)
    ✔ Code cleaning @started(25-11-02 15:40) @done(25-11-02 15:55) @lasted(15m40s)
    ✔ Refactor to make custom hooks if needed @done(25-11-02 15:55)
    ✔ Add chat history @done(25-11-02 18:10)
    ✔ Fix context utilisation with prompts from project to make sure it only talks about the project you are currently on @started(25-11-02 15:58) @done(25-11-02 18:14) @lasted(2h16m20s)
    ✔ Fix message history in the app @started(25-11-02 18:14) @done(25-11-02 18:27) @lasted(13m7s)
    ✔ Define agent tool schema (focusNode, expandPath, openFileRange, createTour) @done(25-11-02 21:37)
    - Implement tool calls so that we can actually have a new diagram generated for the user, like the ai must determine when to do this action using a tool call and then make a new preset diagram
    - Implement better prompts throughout for citing and actually using tools
    - Create the feature where you can generate a new diagram and have the option to save it
    - Remove all unecessary debug logging
    - Fix metadata for repositories to include description and stars
    - Try with normal rag to generate the diagrams, then experiment with agentic rag using this [framework](https://medium.com/@aydinKerem/ai-agents-design-patterns-explained-b3ac0433c915)
    - Experiment with multiple agent solutions, see which one performs best
    - Make docker compose to run the app with pg db, chroma, be, and fe
    - Create plan on how to generate the diagram for the whole repository (use github next example)
    - Attempt to deploy a llama reasoning model on aws
    - Attempt to deploy a retrieval nim on aws
    - Create custom implementation of retrieval nim for chromadb embeddings function
    ✔ Implement GitHub API repo scan with auth, rate limit handling @done(25-11-01 13:08)

  Client: 
    ✔ Initialize project and UI kit (vite, shadcn setup, Jotai store) @done(25-11-02 14:12)
    ✔ Implement treemap canvas with LoD zoom thresholds @done(25-11-02 14:12)
    ✔ Implement code viewer with file range highlighting and tabs @done(25-11-02 15:34)
    - Fix the interface to parse markdown
    - Remove thinking from separate text or show with specific thinking tag on the ui
    - Add the tool id to show when tools make calls in the chat ui
    - Fix the text overflowing on nodes
    - Add tooltips, right-click menu, selection/highlight overlays
    - Build chat panel with "Take me there" executing agent tool calls
    - Persist diagram tabs/presets (filters, weighting)

  Deployment:
    ✔ Create docker compose for setup @done(25-11-03 16:56)
    ✔ Deploy first nim on eks instance @done(25-11-03 23:16)
    - Deploy embeddings model on eks @started(25-11-03 23:17)
    - Test nim and embeddings model on local project before full deployment
    - Launch EC2 (Ubuntu 22.04 or AL2023, t3.medium) with SG (22-myIP, 80/443-public)
    - Manual deploy: EC2 for Bun, EC2 for Chromadb, SageMaker NIM endpoints (with using .env for secrets)
    - Install Bun, Docker, NGINX on EC2 (enable services)
    - Allocate and associate Elastic IP to the EC2 instance
    - Clone repo to /opt/takoping and install server deps (bun install)
    - Create server/.env with NIM (SageMaker) endpoints + retrieval vars
    - Create systemd service to run Bun server on 127.0.0.1:3000
    - Configure NGINX: proxy api.<domain> → 127.0.0.1:3000, obtain TLS
    - Build client with VITE_API_BASE=https://api.<domain> and deploy to S3+CloudFront
    - Smoke test: /health, /api/chat/query, /api/diagrams/* from public URL
    - Wire DNS/SSL and env vars to AWS services
    - Optional: CI/CD workflow to build/deploy backend/frontend

  Ops & Extras:
    - Terraform IaC: VPC, EC2, SG, IAM, SageMaker endpoints, DNS
    - Move db to amazon rds instead
    - (Later) Optionally split Chromadb to its own EC2 and add ALB+ACM
    - Highlight specific nodes when you are chatting with the chatbot
    - Add the "tour" feature
    - Add tracing/logging and minimal onboarding Q&A eval set
    - Add "Open in Cursor" action from answers/diagrams
    - Switch branch control in UI and data source
    - Use `Workers` from bun to handle jobs
